#!groovy

pipeline {
    agent any
    stages {
        triggers {
          cron('H H/6 * * 1-5')
        }
        stage('build') {
            steps {
                sh '''
                    . ~/.nvm/nvm.sh
                    cd /home/ec2-user/.jenkins/workspace/ore_chore_1-PhantomJS-dependency/RideShare
		                npm install
                    #ng build
                '''
            }
         }
         /*
        stage('test') {
              steps {
                sh '''
                    . ~/.nvm/nvm.sh
                    cd /home/ec2-user/.jenkins/workspace/ore_chore_1-PhantomJS-dependency/RideShare
		                npm install
                    npm run test-headless
                '''
            }
        }
        */
        stage('Build') {
              steps {
                sh '''
                    . ~/.nvm/nvm.sh
                    cd /home/ec2-user/.jenkins/workspace/ore_chore_1-PhantomJS-dependency/RideShare
		                ng build
                '''
            }
        }
    }
}