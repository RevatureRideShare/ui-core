<mat-toolbar name="header" id="header" class="banners">
  <span>Welcome to RideShare!</span>
</mat-toolbar>

<div id="outer-container">
  <div
    id="form-div"
    fxLayout="row"
    fxLayoutAlign="center center"
    class="login-main"
  >
    <mat-card>
      <mat-card-header>
        <mat-card-title>Please Register Below</mat-card-title>
      </mat-card-header>
      <mat-card-content class="full">
        <table>
          <tr class="full">
            <td class="half">
              <mat-form-field class="full">
                <input
                  matInput
                  placeholder="First Name"
                  name="firstName"
                  [(ngModel)]="user.firstName"
                />
              </mat-form-field>
            </td>
            <td class="half">
              <mat-form-field class="full">
                <input
                  matInput
                  placeholder="Last Name"
                  name="lastName"
                  [(ngModel)]="user.lastName"
                />
              </mat-form-field>
            </td>
          </tr>
          <tr class="full">
            <td class="half">
              <mat-form-field class="full">
                <input
                  type="email"
                  matInput
                  placeholder="Email"
                  name="email"
                  [(ngModel)]="user.email"
                />
              </mat-form-field>
            </td>
            <td class="half">
              <mat-form-field class="full">
                <input
                  type="password"
                  matInput
                  placeholder="Password"
                  name="password"
                  [(ngModel)]="password"
                />
              </mat-form-field>
            </td>
          </tr>
          <tr class="full">
            <td class="half">
              <mat-form-field class="full">
                <input
                  type="phoneNumber"
                  matInput
                  placeholder="Phone Number"
                  name="phoneNumber"
                  [(ngModel)]="user.phoneNumber"
                />
              </mat-form-field>
            </td>
            <td class="half">
              <mat-form-field class="full">
                <mat-select
                  placeholder="Do you have a car?"
                  [(ngModel)]="selectedValue"
                  name="role"
                  [(ngModel)]="user.role"
                >
                  <mat-option value="RIDER">I don't have a car :(</mat-option>
                  <mat-option value="DRIVER">I have a car!</mat-option>
                </mat-select>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <!--  I have no idea why, but if you delete these, you'll be sorry. -->
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr class="full" *ngIf="selectedValue == 'DRIVER'">
            <td class="half">
              <mat-form-field class="full">
                <mat-select
                  placeholder="How many seats in your car?"
                  [(ngModel)]="selectedSeats"
                  name="numberOfSeats"
                  [(ngModel)]="user.carDto.seatNumber"
                >
                  <mat-option value="1">1</mat-option>
                  <mat-option value="2">2</mat-option>
                  <mat-option value="3">3</mat-option>
                  <mat-option value="4">4</mat-option>
                  <mat-option value="5">5</mat-option>
                  <mat-option value="6">6</mat-option>
                </mat-select>
              </mat-form-field>
            </td>
          </tr>
          <tr class="full">
            <td
              class="half"
              *ngIf="allTrainingLocations | async as trainingLocations"
            >
              <mat-select
                placeholder="Training Location"
                [(ngModel)]="selectedLocation"
                name="selectedTrainingLocation"
              >
                <mat-option
                  *ngFor="let i of trainingLocations"
                  [(value)]="i.trainingLocationName"
                  >{{ i.trainingLocationName }}</mat-option
                >
              </mat-select>
            </td>
          </tr>
          <tr class="full">
            <td
              class="half"
              *ngIf="allHouseLocations | async as housingLocations"
            >
              <mat-select
                placeholder="Housing Location Name"
                name="selectedHousingLocation"
                [(ngModel)]="user.houseLocation"
              >
                <mat-option
                  *ngFor="
                    let i of housingLocations | isLocation: selectedLocation
                  "
                  [(value)]="i"
                  >{{ i.housingLocationName }}</mat-option
                >
              </mat-select>
            </td>
          </tr>
        </table>
      </mat-card-content>
      <mat-card-actions align="end">
        <button routerLink="/login" type="button" class="btn">
          Login
        </button>
        <button
          (click)="register($event)"
          type="button"
          class="btn"
          routerLink="/home"
        >
          Submit
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<div>
  <app-footer></app-footer>
</div>
